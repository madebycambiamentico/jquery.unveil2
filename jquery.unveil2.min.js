/**
 * jQuery Unveil 2
 * A very lightweight jQuery plugin to lazy load images
 *
 * Licensed under the GPL 3 license.
 * Copyright 2017 Nereo Costacurta
 * https://github.com/madebycambiamentico
 */
!function(n,e){e.fn.unveil=function(t,i){function o(){var n=s.filter(function(){return null!==this.offsetParent&&((l=this.getBoundingClientRect()).top>=t.thr[0]&&l.top<=f-t.thr[1]||l.top<=t.thr[0]&&l.bottom>=f-t.thr[1]||this.offsetTop<=t.thr[0])});return u=n.addClass(t.uclass).trigger("unveil"),(s=s.not(u)).length}function r(){var n=a.scrollTop();v!==n?(v=n,o()||!t.hasEnd?c(r):a.off(".unveil")):c(r)}var u,s=this,a=e(n);t=e.extend({thr:[0,0],uclass:"unveiled",hasEnd:void 0===i},t),i&&(i.options=function(n){return t=e.extend(t,n)},i.addImgs=function(n){return s.add(n)},i.delImgs=function(n){return s=s.not(n)}),s.one("unveil",function(){var n=e(this).data("src");n&&(this.src=n)});var l,f=a.height();a.on("resize.unveil",function(){f=a.height()});var c=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.msRequestAnimationFrame||n.oRequestAnimationFrame||!1;if(c){console.info("Using requestAnimationFrame for unveil detection");var v=a.scrollTop();a.on("resize.unveil",function(){c(r)}),r()}else{console.info("Using scroll event 100ms for unveil detection");var h,m=!1;a.on("scroll.unveil resize.unveil",function(){m||(m=!0,clearTimeout(h),o(),setTimeout(function(){m=!1},100),h=setTimeout(function(){!o()&&t.hasEnd&&a.off(".unveil")},200))})}return o(),this}}(window,jQuery);
